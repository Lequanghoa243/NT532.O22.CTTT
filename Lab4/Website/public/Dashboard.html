

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IOT System</title>
    <style>
        
    </style>
</head>
<body>
    <div style="width: 100%; height: 100%; position: relative; background: white; display: flex; justify-content: center; align-items: center;">
        <div style="width: 644px; height: 45px; left: 59px; top: 98px; position: absolute; color: black; font-size: 32px; font-family: Inknut Antiqua; font-weight: 700; line-height: 24px; word-wrap: break-word">Welcome to IOT System of Group 2</div>
        <div style="width: 644px; height: 45px; left: 59px; top: 439px; position: absolute; color: black; font-size: 32px; font-family: Inknut Antiqua; font-weight: 700; line-height: 24px; word-wrap: break-word">Connected devices</div>
        <div style="width: 205px; height: 45px; left: 59px; top: 181px; position: absolute; color: black; font-size: 32px; font-family: Inknut Antiqua; font-weight: 700; line-height: 24px; word-wrap: break-word">Members:</div>
        <div style="width: 492px; height: 45px; left: 59px; top: 230px; position: absolute; color: black; font-size: 32px; font-family: Italianno; font-weight: 400; line-height: 24px; word-wrap: break-word">Lê Quang Hoà - 20521331<br/><br/>Kiều Xuân Diệu Hương -20521381<br/><br/>Phạm Thị Thuỳ Dương - 20521221</div>
        <img style="width: 598px; height: 341px; left: 760px; top: 81px; position: absolute" src="./image.png" />
        <div style="width: 1290px; height: 610px; left: 46px; top: 514px; position: absolute; background: #D9D9D9; border-radius: 61px"></div>
        <div style="width: 1290px; height: 610px; left: 46px; top: 514px; position: absolute; background: #D9D9D9; border-radius: 61px"></div>
        <div style="width: 644px; height: 45px; left: 148px; top: 884px; position: absolute; color: #6BB060; font-size: 24px; font-family: Inknut Antiqua; font-weight: 700; line-height: 24px; word-wrap: break-word">Connected At: <span id="device2ConnectedAt"></span></div>
        <div style="width: 34px; height: 33px; left: 91px; top: 880px; position: absolute; background: #6BB060; border-radius: 9999px"></div>
        <a href="./device1.html"><img style="width: 183px; height: 278px; left: 1069px; top: 530px; position: absolute" src="./unnamed.jpg" /></a>
        <a href="./device2.html"><img style="width: 183px; height: 277px; left: 1069px; top: 839px; position: absolute" src="./unnamed.jpg" /></a>
        <div style="width: 644px; height: 45px; left: 128px; top: 542px; position: absolute; color: black; font-size: 32px; font-family: Inknut Antiqua; font-weight: 700; line-height: 24px; word-wrap: break-word">Device 1: Wemos D1</div>
        <div style="width: 644px; height: 45px; left: 148px; top: 606px; position: absolute; color: #6BB060; font-size: 24px; font-family: Inknut Antiqua; font-weight: 700; line-height: 24px; word-wrap: break-word">Connected At: <span id="device1ConnectedAt"></span></div>
        <div style="width: 644px; height: 45px; left: 125px; top: 820px; position: absolute; color: black; font-size: 32px; font-family: Inknut Antiqua; font-weight: 700; line-height: 24px; word-wrap: break-word">Device 2: Wemos D1</div>
        <div style="width: 34px; height: 33px; left: 91px; top: 602px; position: absolute; background: #6BB060; border-radius: 9999px"></div>
    </div>
    <script>
        function updateData() {
        fetch('/device1')
            .then(response => response.json())
            .then(data => {
                const device1Data = data.data[0];
                const device1Timestamp = device1Data.timestamp;
                const device1Id = device1Data.deviceId;
                document.getElementById('device1ConnectedAt').innerText = device1Timestamp;
                document.getElementById('device1Id').innerText = device1Id;
            })
            .catch(error => console.error('Error fetching device 1 data:', error));

        fetch('/device2')
            .then(response => response.json())
            .then(data => {
                const device2Data = data.data[0];
                const device2Timestamp = device2Data.timestamp;
                const device2Id = device2Data.deviceId;
                document.getElementById('device2ConnectedAt').innerText = device2Timestamp;
                document.getElementById('device2Id').innerText = device2Id;
            })
            .catch(error => console.error('Error fetching device 2 data:', error));
        }
        updateData();

// Update data every 5 seconds
setInterval(updateData, 3000);   
    </script>
</body>
</html>
